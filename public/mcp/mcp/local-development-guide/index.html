<!doctype html><html lang=en-us><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>MCP Local Development Guide | ScopeCam MCP Documentation</title>
<meta name=description content="Documentation for the ScopeCam Multi-Agent Control Platform"><style>body{font-family:-apple-system,BlinkMacSystemFont,segoe ui,Roboto,Helvetica,Arial,sans-serif;line-height:1.6;color:#333;max-width:1200px;margin:0 auto;padding:0 20px}.header{padding:20px 0;border-bottom:1px solid #eee}.layer-switch{display:flex;margin:10px 0}.layer-button{padding:8px 16px;background:#f1f1f1;border:1px solid #ddd;cursor:pointer}.layer-button.active{background:#007bff;color:#fff}.sidebar{width:250px;float:left;padding-right:30px}.main-content{margin-left:280px}.status{display:inline-block;padding:5px;border-radius:3px;margin-bottom:20px}.status-active{background-color:#d4edda;color:#155724}.status-draft{background-color:#fff3cd;color:#856404}.status-review{background-color:#ffe5d0;color:#ff8000}.status-outdated{background-color:#f8d7da;color:#721c24}.status-archived{background-color:#e2e3e5;color:#383d41}.footer{margin-top:50px;padding:20px 0;border-top:1px solid #eee;font-size:.9em}pre{background:#f8f9fa;padding:15px;border-radius:4px;overflow:auto}code{font-family:SFMono-Regular,Consolas,liberation mono,Menlo,monospace;background:#f8f9fa;padding:2px 4px;border-radius:3px}@media(max-width:768px){.sidebar{float:none;width:100%}.main-content{margin-left:0}}</style></head><body><header class=header><div class=container><a href=https://example.github.io/mcp-scope/ class=logo>ScopeCam MCP Documentation</a><div class=layer-switch><button class=layer-button data-layer=root>
Root Documentation
</button>
<button class=layer-button data-layer=mcp>
MCP Documentation</button></div><nav class=main-nav><ul><li><a href=/mcp-scope/>Home</a></li><li><a href=/mcp-scope/project/>Project</a></li><li><a href=/mcp-scope/architecture/>Architecture</a></li><li><a href=/mcp-scope/guides/>Guides</a></li><li><a href=/mcp-scope/standards/>Standards</a></li><li><a href=/mcp-scope/mcp/>MCP</a></li></ul></nav></div></header><div class=container><aside class=sidebar><nav class=sidebar-nav><div class=section-navigation><h3>Mcp</h3><ul><li><a href=https://example.github.io/mcp-scope/mcp/mcp/containerized-development-guide/></a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/contributing/></a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/environment-setup/></a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/getting-started/></a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/local-development-guide/ class=active></a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/first-steps/>Getting Started with MCP</a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/overview/>MCP Architecture Overview</a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/containerized-development-guide/>MCP Containerized Development Guide</a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/project-setup/>MCP Development Environment Setup</a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/readme/>MCP Documentation Index</a></li><li><a href=https://example.github.io/mcp-scope/mcp/mcp/local-development-guide/ class=active>MCP Local Development Guide</a></li><li><a href=https://example.github.io/mcp-scope/mcp/>Mcps</a></li></ul><p><a href=/>&larr; Back to home</a></p></div></nav></aside><main class=main-content><article class=content><header><h1>MCP Local Development Guide</h1><div class="status status-active">üü¢ Active</div><div class=metadata><span class=created-date>Created: 2025-03-22</span>
<span class=updated-date>Updated: 2025-03-22</span>
<span class=version>Version: 1.0</span><div class=contributors>Contributors:
Documentation Architect</div></div></header><div class=table-of-contents><h2>Table of Contents</h2><nav id=TableOfContents><ul><li><a href=#overview>Overview</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#setting-up-your-local-environment>Setting Up Your Local Environment</a><ul><li><a href=#gradle-wrapper-setup-for-kotlin-projects>Gradle Wrapper Setup for Kotlin Projects</a></li><li><a href=#python-virtual-environment-setup>Python Virtual Environment Setup</a></li><li><a href=#environment-variables-for-local-development>Environment Variables for Local Development</a></li></ul></li><li><a href=#running-components-locally>Running Components Locally</a><ul><li><a href=#1-start-nats-server>1. Start NATS Server</a></li><li><a href=#2-run-mcp-core>2. Run MCP Core</a></li><li><a href=#3-run-camera-integration-agent>3. Run Camera Integration Agent</a></li><li><a href=#4-run-python-processor-agent>4. Run Python Processor Agent</a></li></ul></li><li><a href=#local-development-workflow>Local Development Workflow</a></li><li><a href=#working-with-multiple-components>Working with Multiple Components</a><ul><li><a href=#using-terminal-multiplexers>Using Terminal Multiplexers</a></li><li><a href=#using-ide-run-configurations>Using IDE Run Configurations</a></li></ul></li><li><a href=#debugging>Debugging</a><ul><li><a href=#debugging-kotlin-components>Debugging Kotlin Components</a></li><li><a href=#debugging-python-agents>Debugging Python Agents</a></li></ul></li><li><a href=#testing-nats-interactions-manually>Testing NATS Interactions Manually</a></li><li><a href=#best-practices-for-local-development>Best Practices for Local Development</a></li><li><a href=#troubleshooting-common-issues>Troubleshooting Common Issues</a><ul><li><a href=#nats-connection-issues>NATS Connection Issues</a></li><li><a href=#gradle-build-failures>Gradle Build Failures</a></li><li><a href=#python-dependency-issues>Python Dependency Issues</a></li><li><a href=#agent-registration-problems>Agent Registration Problems</a></li></ul></li><li><a href=#related-documents>Related Documents</a></li><li><a href=#changelog>Changelog</a></li></ul></nav></div><div class=content-body><h1 id=mcp-local-development-guide>MCP Local Development Guide</h1><p>üü¢ <strong>Active</strong></p><p><a href=/docs/README.md>‚Ü©Ô∏è Back to Documentation Index</a></p><h2 id=overview>Overview</h2><p>This guide provides instructions for setting up and working with the Multi-Agent Control Platform (MCP) in a local development environment.</p><h2 id=prerequisites>Prerequisites</h2><p>Before following this guide, ensure you have completed the <a href=/docs/implementation/project-setup.md>Project Setup</a> to install required software.</p><h2 id=setting-up-your-local-environment>Setting Up Your Local Environment</h2><h3 id=gradle-wrapper-setup-for-kotlin-projects>Gradle Wrapper Setup for Kotlin Projects</h3><p>To ensure consistent builds across developer machines, we use Gradle wrapper. If you&rsquo;re creating a new Kotlin component or the wrapper is missing, set it up:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Navigate to the project directory (mcp-core or camera-agent)</span>
</span></span><span style=display:flex><span>cd /home/verlyn13/Projects/mcp-scope/mcp-project/mcp-core
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Generate the Gradle wrapper</span>
</span></span><span style=display:flex><span>gradle wrapper --gradle-version 8.3
</span></span><span style=display:flex><span>chmod +x ./gradlew
</span></span></code></pre></td></tr></table></div></div><p>This creates:</p><ul><li><code>gradlew</code> - Unix shell script</li><li><code>gradlew.bat</code> - Windows batch file</li><li><code>gradle/wrapper/</code> directory with JAR and properties files</li></ul><h3 id=python-virtual-environment-setup>Python Virtual Environment Setup</h3><p>For Python agents, set up isolated virtual environments:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 8
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f"> 9
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">10
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">11
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">12
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">13
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">14
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Navigate to the Python agent directory</span>
</span></span><span style=display:flex><span>cd /home/verlyn13/Projects/mcp-scope/mcp-project/agents/python-processor
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create a virtual environment</span>
</span></span><span style=display:flex><span>python -m venv venv
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Activate the virtual environment (Linux/macOS)</span>
</span></span><span style=display:flex><span>source venv/bin/activate
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Activate the virtual environment (Windows PowerShell)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># .\venv\Scripts\Activate.ps1</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Install dependencies</span>
</span></span><span style=display:flex><span>pip install -r requirements.txt
</span></span></code></pre></td></tr></table></div></div><h3 id=environment-variables-for-local-development>Environment Variables for Local Development</h3><p>Create a <code>.env</code> file in each component directory for local settings. These values will override container environments when running locally:</p><p><strong>For mcp-core and camera-agent (<code>.env</code> file)</strong>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>NATS_URL=nats://localhost:4222
</span></span><span style=display:flex><span>LOG_LEVEL=INFO
</span></span></code></pre></td></tr></table></div></div><p><strong>For Python agent (<code>.env</code> file)</strong>:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-fallback data-lang=fallback><span style=display:flex><span>NATS_URL=nats://localhost:4222
</span></span><span style=display:flex><span>LOG_LEVEL=INFO
</span></span></code></pre></td></tr></table></div></div><h2 id=running-components-locally>Running Components Locally</h2><h3 id=1-start-nats-server>1. Start NATS Server</h3><p>First, start the NATS message broker:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Start NATS with the project configuration</span>
</span></span><span style=display:flex><span>nats-server -c /home/verlyn13/Projects/mcp-scope/mcp-project/nats/nats-server.conf
</span></span></code></pre></td></tr></table></div></div><h3 id=2-run-mcp-core>2. Run MCP Core</h3><p>In a new terminal:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>cd /home/verlyn13/Projects/mcp-scope/mcp-project/mcp-core
</span></span><span style=display:flex><span>./gradlew run
</span></span></code></pre></td></tr></table></div></div><h3 id=3-run-camera-integration-agent>3. Run Camera Integration Agent</h3><p>In another terminal:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>cd /home/verlyn13/Projects/mcp-scope/mcp-project/agents/camera-agent
</span></span><span style=display:flex><span>./gradlew run
</span></span></code></pre></td></tr></table></div></div><h3 id=4-run-python-processor-agent>4. Run Python Processor Agent</h3><p>In yet another terminal:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>cd /home/verlyn13/Projects/mcp-scope/mcp-project/agents/python-processor
</span></span><span style=display:flex><span>source venv/bin/activate
</span></span><span style=display:flex><span>python main.py
</span></span></code></pre></td></tr></table></div></div><h2 id=local-development-workflow>Local Development Workflow</h2><p>Follow these steps for an efficient development process:</p><ol><li><strong>Make code changes</strong> to the component you&rsquo;re working on</li><li><strong>Rebuild and restart</strong> just that component:<ul><li>For Kotlin components: <code>./gradlew run</code> (restarts automatically)</li><li>For Python agent: Stop with Ctrl+C and restart with <code>python main.py</code></li></ul></li><li><strong>Test your changes</strong> using logs and UI interactions</li><li><strong>When ready to integrate</strong>, test with all components running</li></ol><h2 id=working-with-multiple-components>Working with Multiple Components</h2><p>Strategies for effective local development with multiple components:</p><h3 id=using-terminal-multiplexers>Using Terminal Multiplexers</h3><p><a href=https://github.com/tmux/tmux/wiki>tmux</a> or <a href=https://www.gnu.org/software/screen/>screen</a> let you manage multiple terminal sessions:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Start a new tmux session</span>
</span></span><span style=display:flex><span>tmux new -s mcp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Create multiple panes (Ctrl+b then &#34;)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Switch between panes (Ctrl+b then arrow keys)</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=using-ide-run-configurations>Using IDE Run Configurations</h3><p>Configure your IDE to run multiple components:</p><p><strong>IntelliJ IDEA / Android Studio</strong>:</p><ol><li>Create Gradle run configurations for Kotlin components</li><li>Create Python run configurations for Python agents</li><li>Use the &ldquo;Compound&rdquo; configuration to start multiple components</li></ol><p><strong>VS Code</strong>:</p><ol><li>Create launch configurations in <code>.vscode/launch.json</code></li><li>Use the &ldquo;compounds&rdquo; section to define multi-component launches</li></ol><h2 id=debugging>Debugging</h2><h3 id=debugging-kotlin-components>Debugging Kotlin Components</h3><ol><li>In IntelliJ or VS Code, start the component in debug mode</li><li>Set breakpoints in the code</li><li>Trigger actions via NATS messages or UI interactions</li></ol><p>Example VS Code launch configuration:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-json data-lang=json><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;type&#34;</span>: <span style=color:#e6db74>&#34;kotlin&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;request&#34;</span>: <span style=color:#e6db74>&#34;launch&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;name&#34;</span>: <span style=color:#e6db74>&#34;MCP Core&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;projectRoot&#34;</span>: <span style=color:#e6db74>&#34;${workspaceFolder}/mcp-core&#34;</span>,
</span></span><span style=display:flex><span>  <span style=color:#f92672>&#34;mainClass&#34;</span>: <span style=color:#e6db74>&#34;com.example.mcp.MainKt&#34;</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></td></tr></table></div></div><h3 id=debugging-python-agents>Debugging Python Agents</h3><ol><li>Set breakpoints in the Python code</li><li>Start the agent with debugging enabled:<div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span>python -m debugpy --listen <span style=color:#ae81ff>5678</span> --wait-for-client main.py
</span></span></code></pre></td></tr></table></div></div></li><li>Attach your IDE to port 5678</li></ol><h2 id=testing-nats-interactions-manually>Testing NATS Interactions Manually</h2><p>Use the NATS CLI to publish messages and test your components:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">6
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">7
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">8
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install NATS CLI</span>
</span></span><span style=display:flex><span>curl -sf https://install.nats.io/install.sh | sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Subscribe to task results</span>
</span></span><span style=display:flex><span>nats sub <span style=color:#e6db74>&#34;mcp.task.*.result&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Publish a test task (from another terminal)</span>
</span></span><span style=display:flex><span>nats pub <span style=color:#e6db74>&#34;mcp.task.camera-integration-agent&#34;</span> <span style=color:#e6db74>&#39;{&#34;taskId&#34;:&#34;test-123&#34;,&#34;agentType&#34;:&#34;camera&#34;,&#34;payload&#34;:&#34;{\&#34;action\&#34;:\&#34;LIST_DEVICES\&#34;}&#34;, &#34;priority&#34;:0}&#39;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=best-practices-for-local-development>Best Practices for Local Development</h2><ol><li><strong>Use consistent environment variables</strong> between local and containerized setups</li><li><strong>Commit Gradle wrapper files</strong> to source control for consistent builds</li><li><strong>Don&rsquo;t commit virtual environments</strong> (they&rsquo;re in <code>.gitignore</code>)</li><li><strong>Document any changes</strong> to dependencies in README files</li><li><strong>Test both locally and in containers</strong> before submitting pull requests</li><li><strong>Use feature flags</strong> for in-development features to avoid breaking other components</li></ol><h2 id=troubleshooting-common-issues>Troubleshooting Common Issues</h2><h3 id=nats-connection-issues>NATS Connection Issues</h3><p>If components can&rsquo;t connect to NATS:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Check if NATS is running</span>
</span></span><span style=display:flex><span>ps aux | grep nats-server
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Verify NATS is listening on the expected port</span>
</span></span><span style=display:flex><span>netstat -tuln | grep <span style=color:#ae81ff>4222</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=gradle-build-failures>Gradle Build Failures</h3><p>For Kotlin component build issues:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Clean build files</span>
</span></span><span style=display:flex><span>./gradlew clean
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Try with --info for more details</span>
</span></span><span style=display:flex><span>./gradlew build --info
</span></span></code></pre></td></tr></table></div></div><h3 id=python-dependency-issues>Python Dependency Issues</h3><p>For Python agent dependency problems:</p><div class=highlight><div style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><table style=border-spacing:0;padding:0;margin:0;border:0><tr><td style=vertical-align:top;padding:0;margin:0;border:0><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">1
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">2
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">3
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">4
</span><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:.4em;padding:0 .4em;color:#7f7f7f">5
</span></code></pre></td><td style=vertical-align:top;padding:0;margin:0;border:0;width:100%><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:2;-o-tab-size:2;tab-size:2><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Recreate the virtual environment</span>
</span></span><span style=display:flex><span>rm -rf venv
</span></span><span style=display:flex><span>python -m venv venv
</span></span><span style=display:flex><span>source venv/bin/activate
</span></span><span style=display:flex><span>pip install -r requirements.txt
</span></span></code></pre></td></tr></table></div></div><h3 id=agent-registration-problems>Agent Registration Problems</h3><p>If agents aren&rsquo;t registering with the orchestrator:</p><ol><li>Check NATS connectivity</li><li>Verify agent IDs are unique</li><li>Make sure environment variables are set correctly</li><li>Check logs for serialization/deserialization errors</li></ol><h2 id=related-documents>Related Documents</h2><ul><li><a href=/docs/implementation/project-setup.md>Project Setup</a></li><li><a href=/docs/project/first-steps.md>First Steps Guide</a></li><li><a href=/docs/implementation/containerized-development-guide.md>Containerized Development Guide</a></li></ul><h2 id=changelog>Changelog</h2><ul><li>1.0.0 (2025-03-22): Initial release</li></ul></div><div class=related-docs><h2>Related Documents</h2><ul><li><a href=/docs/README.md>/docs/README.md</a></li><li><a href=/docs/project/first-steps.md>/docs/project/first-steps.md</a></li><li><a href=/docs/implementation/project-setup.md>/docs/implementation/project-setup.md</a></li><li><a href=/docs/implementation/containerized-development-guide.md>/docs/implementation/containerized-development-guide.md</a></li></ul></div><div class=tags><h3>Tags</h3><ul><li><a href=/tags/development>development</a></li><li><a href=/tags/local>local</a></li><li><a href=/tags/workflow>workflow</a></li><li><a href=/tags/gradle>gradle</a></li><li><a href=/tags/python>python</a></li></ul></div></article></main></div><footer class=footer><div class=container><p>&copy; 2025 ScopeCam MCP Documentation. All rights reserved.</p></div></footer></body></html>